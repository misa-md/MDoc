"use strict";(self.webpackChunkmdoc=self.webpackChunkmdoc||[]).push([[2393],{5443:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"build","title":"\u7f16\u8bd1\u6784\u5efa","description":"\u6784\u5efa\u73af\u5883","source":"@site/md-tools/build.md","sourceDirName":".","slug":"/build","permalink":"/MDoc/md-tools/build","draft":false,"unlisted":false,"editUrl":"https://github.com/misa-md/MDoc/blob/master/md-tools/build.md","tags":[],"version":"current","lastUpdatedBy":"genshen","lastUpdatedAt":1615182724000,"frontMatter":{"id":"build","title":"\u7f16\u8bd1\u6784\u5efa","sidebar_label":"\u7f16\u8bd1\u6784\u5efa"},"sidebar":"md-tools","previous":{"title":"md-tools \u6982\u89c8","permalink":"/MDoc/md-tools/overview"},"next":{"title":"\u5feb\u901f\u5165\u95e8","permalink":"/MDoc/md-tools/quick-start"}}');var o=n(4848),r=n(8453);const d={id:"build",title:"\u7f16\u8bd1\u6784\u5efa",sidebar_label:"\u7f16\u8bd1\u6784\u5efa"},l=void 0,i={},c=[{value:"\u6784\u5efa\u73af\u5883",id:"\u6784\u5efa\u73af\u5883",level:2},{value:"\u6784\u5efa md-tools",id:"\u6784\u5efa-md-tools",level:2},{value:"\u4ea4\u53c9\u7f16\u8bd1",id:"\u4ea4\u53c9\u7f16\u8bd1",level:2},{value:"\u5173\u4e8e\u6784\u5efa\u7684\u989d\u5916\u6587\u6863",id:"\u5173\u4e8e\u6784\u5efa\u7684\u989d\u5916\u6587\u6863",level:2}];function a(e){const t={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h2,{id:"\u6784\u5efa\u73af\u5883",children:"\u6784\u5efa\u73af\u5883"}),"\n",(0,o.jsxs)(t.p,{children:["\u5728\u7f16\u8bd1\u6784\u5efa\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u7cfb\u7edf\u4e0a\u5b89\u88c5\u4e86 ",(0,o.jsx)(t.a,{href:"https://golang.org",children:"go"})," \u548c ",(0,o.jsx)(t.a,{href:"http://rust-lang.org",children:"rust"})," \u5de5\u5177\u94fe\u53ca C \u5de5\u5177\u94fe(C\u7f16\u8bd1\u5668\u3001\u94fe\u63a5\u5668\u7b49)\u3002"]}),"\n",(0,o.jsx)(t.h2,{id:"\u6784\u5efa-md-tools",children:"\u6784\u5efa md-tools"}),"\n",(0,o.jsx)(t.p,{children:"\u83b7\u53d6 md-tools \u6e90\u4ee3\u7801\u540e\uff0c\u53ef\u5728\u6e90\u7801\u8ddf\u76ee\u5f55\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c\u6784\u5efa\u3002"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"cargo build --release\n"})}),"\n",(0,o.jsxs)(t.p,{children:["\u6267\u884c\u547d\u4ee4\u540e\uff0c\u53ef\u5728 ",(0,o.jsx)(t.code,{children:"target/release"})," \u76ee\u5f55\u4e0b\u627e\u5230\u5bf9\u5e94\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002\n\u5f53\u7136\uff0c\u5982\u679c\u9700\u8981\u6784\u5efa debug \u6a21\u5f0f\u4e0b\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u53ef\u76f4\u63a5\u6267\u884c ",(0,o.jsx)(t.code,{children:"cargo build"})," \u547d\u4ee4\u3002"]}),"\n",(0,o.jsx)(t.admonition,{title:"\u6307\u5b9a C \u7f16\u8bd1\u5668",type:"tip",children:(0,o.jsxs)(t.p,{children:["\u5982\u679c\u7f16\u8bd1\u6784\u5efa\u65f6\u9700\u8981\u6307\u5b9a C \u7f16\u8bd1\u5668\uff0c\u53ef\u4ee5\u4f7f\u7528 CC \u73af\u5883\u53d8\u91cf\uff0c\u4f8b\u5982 ",(0,o.jsx)(t.code,{children:"CC=clang cargo build"})]})}),"\n",(0,o.jsx)(t.admonition,{title:"\u6307\u5b9a\u94fe\u63a5\u5668",type:"tip",children:(0,o.jsxs)(t.p,{children:["\u5982\u679c\u7f16\u8bd1\u6784\u5efa\u65f6\u9700\u8981\u6307\u5b9a C \u7f16\u8bd1\u5668\uff0c\u53ef\u5728 cargo \u7684\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 ",(0,o.jsx)(t.code,{children:"target.linker"})," \u9879\u4e2d\u6307\u5b9a\u94fe\u63a5\u5668\uff0c\u5177\u4f53\u53c2\u89c1 ",(0,o.jsx)(t.a,{href:"https://doc.rust-lang.org/cargo/reference/config.html#targettriplelinker",children:"https://doc.rust-lang.org/cargo/reference/config.html#targettriplelinker"})," \u3002"]})}),"\n",(0,o.jsx)(t.h2,{id:"\u4ea4\u53c9\u7f16\u8bd1",children:"\u4ea4\u53c9\u7f16\u8bd1"}),"\n",(0,o.jsxs)(t.p,{children:["\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u4ea4\u53c9\u7f16\u8bd1\uff0c\u6765\u5c06 md-tools \u6784\u5efa\u5230\u5176\u4ed6\u7684\u8fd0\u884c\u5e73\u53f0\uff08\u5982\u5728 Linux \u7cfb\u7edf\u4e2d\u6784\u5efa\u53ef\u5728 winodws \u4e0a\u8fd0\u884c\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff09\u3002",(0,o.jsx)(t.br,{}),"\n","md-tools \u91c7\u7528 C\u3001Go\u3001Rust \u6df7\u5408\u7f16\u5199\uff0cC \u4ee3\u7801\u548c Go \u4ee3\u7801\u5747\u4f1a\u7f16\u8bd1\u6210\u9759\u6001\u5e93\uff0c\u7136\u540e\u548c rust \u4ee3\u7801\u4e00\u5757\u94fe\u63a5\u6210\u4e3a\u53ef\u6267\u884c\u6587\u4ef6\u3002\n\u5176\u4e2d\uff0cC \u4ee3\u7801\u4f1a\u88ab ",(0,o.jsx)(t.a,{href:"https://crates.io/crates/cc",children:"cc crates"}),"  \u6784\u5efa\u4e3a\u9759\u6001\u5e93\u3002\u53ef\u7528 ",(0,o.jsx)(t.code,{children:"CC"})," \u73af\u5883\u53d8\u91cf\u6765\u6307\u5b9a\u7f16\u8bd1\u5668\uff0c\u8be6\u7ec6\u8bf7\u53c2\u8003 cc \u5e93\u7684",(0,o.jsx)(t.a,{href:"https://crates.io/crates/cc",children:"\u76f8\u5173\u6587\u6863"}),"\u3002\nGo \u4ee3\u7801\u4f1a\u88ab Go \u7f16\u8bd1\u5668\u7f16\u8bd1\u6210\u4e3a\u9759\u6001\u5e93\uff0c\u53ef\u5229\u7528\u76f8\u5173\u7684 Go \u73af\u5883\u53d8\u91cf\u6307\u5b9a\u76ee\u6807 CPU \u67b6\u6784\u3001\u76ee\u6807\u64cd\u4f5c\u7cfb\u7edf\uff08\u5982",(0,o.jsx)(t.code,{children:"GOARCH"}),"\u3001",(0,o.jsx)(t.code,{children:"GOOS"}),"\uff09\u3002"]}),"\n",(0,o.jsxs)(t.p,{children:["\u4f8b\u5982\uff0c\u5728 macOS \u5e73\u53f0\u4e0a\uff0c\u91c7\u7528 C \u7f16\u8bd1\u5668 ",(0,o.jsx)(t.code,{children:"x86_64-w64-mingw32-gcc"}),"\uff0c\u5c06 md-tools \u6e90\u7801\u7f16\u8bd1\u5230 windows amd64 \u67b6\u6784\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u53ef\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"CC=x86_64-w64-mingw32-gcc CGO_ENABLED=1 GOARCH=amd64 GOOS=windows \\\n  cargo build --target=x86_64-pc-windows-gnu --release\n"})}),"\n",(0,o.jsxs)(t.p,{children:["\u4ee5\u4e0a\u547d\u4ee4\u7f16\u8bd1\u5f97\u5230\u7684\u53ef\u6267\u884c\u6587\u4ef6\u5c06\u4f4d\u4e8e ",(0,o.jsx)(t.code,{children:"target/x86_64-pc-windows-gnu/release"})," \u76ee\u5f55\u4e0b\u3002"]}),"\n",(0,o.jsx)(t.h2,{id:"\u5173\u4e8e\u6784\u5efa\u7684\u989d\u5916\u6587\u6863",children:"\u5173\u4e8e\u6784\u5efa\u7684\u989d\u5916\u6587\u6863"}),"\n",(0,o.jsxs)(t.p,{children:["\u5173\u4e8e md-tools \u6784\u5efa\u7684\u5185\u5bb9\uff0c\u5982\u82e5\u672a\u5728\u672c\u5c0f\u8282\u63cf\u8ff0\u8be6\u5c3d\uff0c\u53ef\u53c2\u8003 md-tools \u4ee3\u7801\u4ed3\u5e93\u4e2d\u7684\u76f8\u5173\u6587\u6863\uff1a\n",(0,o.jsx)(t.a,{href:"https://github.com/misa-md/md-tools/blob/master/README.md#build",children:"https://github.com/misa-md/md-tools/blob/master/README.md#build"})," \u3002\n\u6b64\u5916\uff0c\u5982\u82e5\u5e0c\u671b\u67e5\u770b",(0,o.jsx)(t.strong,{children:"\u6700\u65b0\u7684"}),"\u6784\u5efa\u65b9\u5f0f\uff0c\u4e5f\u53ef\u53c2\u8003\u4ee5\u4e0a\u94fe\u63a5\u6240\u6307\u5411\u7684\u6587\u6863\u3002"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>d,x:()=>l});var s=n(6540);const o={},r=s.createContext(o);function d(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);